<%-include('header')-%>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    integrity="sha384-ezpxIECHxu8NcytF0eSyoKb8l4F2RS0A6r4/E+4zpx2F1pDQzIRqHuY7vQAgITu" crossorigin="anonymous">
  <style>
    .title-style {
      font-family: Georgia, 'Times New Roman', Times, serif;
      font-weight: 700;
      font-size: 20px;
      color: hsl(52, 0%, 98%);
    }

    .img-fluid {
      position: absolute;
      left: 0px;
      height: 100%;
    }

    .is-valid {
  border-color: #28a745; /* Green border */
}

.is-valid + .valid-feedback {
  display: block;
  color: #28a745;
}

.is-invalid {
  border-color: #dc3545; /* Red border */
}

.is-invalid + .invalid-feedback {
  display: block;
  color: #dc3545;
}

  </style>
  <title>Delivery Form</title>
</head>

<body>

    <div class="container py-5">
        <div class="row justify-content-center align-items-center">
          <div class="col">
            <div class="card my-4 shadow-3">
              <div class="row g-0">
                <div class="col-xl-6 d-xl-block bg-image">
                  <img src="https://mdbcdn.b-cdn.net/img/Others/extended-example/delivery.webp" alt="Sample photo" class="img-fluid" />
                  <div class="mask" style="background-color: rgba(0, 0, 0, 0.6)"></div>
                </div>
                <div class="col-xl-6">
                  <form action="/add_address" method="POST" id="addressForm" novalidate>
                    <div class="card-body p-md-5 text-black">
                      <h3 class="mb-4 text-uppercase">Add Address</h3>
                      <div class="row">
                        <div class="col-md-6 mb-4">
                          <div class="form-group">
                            <label class="form-label">First name</label>
                            <input type="text" id="firstName" name="firstName" class="form-control form-control-lg" required />
                            <div class="invalid-feedback">
                              Please enter a first name.
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6 mb-4">
                          <div class="form-group">
                            <label for="lastName" class="form-label">Last name</label>
                            <input type="text" id="lastName" name="lastName" class="form-control form-control-lg" required />
                            <div class="invalid-feedback">
                              Please enter a last name.
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group mb-4">
                        <label for="address" class="form-label">Address</label>
                        <input type="text" id="address" name="address" class="form-control form-control-lg" required />
                        <div class="invalid-feedback">
                          Please enter an address.
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6 mb-4">
                          <label for="state" class="form-label">State</label>
                          <input type="text" id="state" name="state" class="form-control form-control-lg" required />
                          <div class="invalid-feedback">
                            Please enter a state.
                          </div>
                        </div>
                        <div class="col-md-6 mb-4">
                          <label for="city" class="form-label">City</label>
                          <input type="text" id="city" name="city" class="form-control form-control-lg" required />
                          <div class="invalid-feedback">
                            Please enter a city.
                          </div>
                        </div>
                      </div>
                      <div class="form-group mb-4">
                        <label for="zip" class="form-label">Zip</label>
                        <input type="text" id="zip" name="zip" class="form-control form-control-lg" required pattern="\d*" minlength="5" maxlength="10" />
                        <div class="invalid-feedback">
                          Please enter a valid zip code.
                        </div>
                      </div>
                      <div class="d-flex justify-content-end pt-3">
                        <button type="submit" class="btn btn-success btn-lg ms-2" style="background-color: hsl(210, 100%, 50%)">Add</button>
                      </div>
                      <a href="/profile">
                        <button type="button" class="btn btn-primary btn-lg ms-2" style="position: relative;top: -57px;left: 23pc; background-color: rgba(0, 0, 0, 0); color: hsl(210, 100%, 50%)">Cancel</button>
                      </a>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <script>
        document.getElementById('addressForm').addEventListener('submit', function(event) {
          var isValid = true;
      
          // Validate First Name
          var firstNameInput = document.getElementById('firstName');
          if (!firstNameInput.value.trim()) {
            isValid = false;
            firstNameInput.classList.add('is-invalid');
            firstNameInput.nextElementSibling.style.display = 'block';
          } else {
            firstNameInput.classList.remove('is-invalid');
            firstNameInput.nextElementSibling.style.display = 'none';
          }
      
          // Validate Last Name
          var lastNameInput = document.getElementById('lastName');
          if (!lastNameInput.value.trim()) {
            isValid = false;
            lastNameInput.classList.add('is-invalid');
            lastNameInput.nextElementSibling.style.display = 'block';
          } else {
            lastNameInput.classList.remove('is-invalid');
            lastNameInput.nextElementSibling.style.display = 'none';
          }
      
          // Validate Address
          var addressInput = document.getElementById('address');
          if (!addressInput.value.trim()) {
            isValid = false;
            addressInput.classList.add('is-invalid');
            addressInput.nextElementSibling.style.display = 'block';
          } else {
            addressInput.classList.remove('is-invalid');
            addressInput.nextElementSibling.style.display = 'none';
          }
      
          // Validate State
          var stateInput = document.getElementById('state');
          if (!stateInput.value.trim()) {
            isValid = false;
            stateInput.classList.add('is-invalid');
            stateInput.nextElementSibling.style.display = 'block';
          } else {
            stateInput.classList.remove('is-invalid');
            stateInput.nextElementSibling.style.display = 'none';
          }
      
          // Validate City
          var cityInput = document.getElementById('city');
          if (!cityInput.value.trim()) {
            isValid = false;
            cityInput.classList.add('is-invalid');
            cityInput.nextElementSibling.style.display = 'block';
          } else {
            cityInput.classList.remove('is-invalid');
            cityInput.nextElementSibling.style.display = 'none';
          }
      
          // Validate Zip Code
          var zipInput = document.getElementById('zip');
          if (!zipInput.value.trim() || !/^\d{5,10}$/.test(zipInput.value.trim())) {
            isValid = false;
            zipInput.classList.add('is-invalid');
            zipInput.nextElementSibling.style.display = 'block';
          } else {
            zipInput.classList.remove('is-invalid');
            zipInput.nextElementSibling.style.display = 'none';
          }
      
          if (!isValid) {
            event.preventDefault();
          }
        });
      </script>
  


  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var form = document.getElementById('addressForm');
      var inputsToValidate = {
        'firstName': /^[A-Za-z\s]+$/, // Only letters and spaces
        'lastName': /^[A-Za-z\s]+$/, // Only letters and spaces
        'address': /^[A-Za-z\s\d,.-]+$/, // Letters, spaces, numbers, commas, periods, and hyphens
        'state': /^[A-Za-z\s]+$/, // Only letters and spaces
        'city': /^[A-Za-z\s]+$/, // Only letters and spaces
        'zip': /^[1-9]\d{4,9}$/ // Zip code validation pattern
      };
    
      // Define the validation function
      function validateInput(inputElement, regex = null) {
        var value = inputElement.value.trim();
        var isInvalid = value === "" || (regex !== null && !regex.test(value));
        inputElement.classList.toggle('is-invalid', isInvalid);
        inputElement.classList.toggle('is-valid', !isInvalid);
        inputElement.nextElementSibling.style.display = isInvalid ? 'block' : 'none';
        return !isInvalid;
      }
    
      // Attach input event listeners for real-time validation
      Object.keys(inputsToValidate).forEach(function(inputId) {
        var inputElement = document.getElementById(inputId);
        var regex = inputsToValidate[inputId];
        inputElement.addEventListener('input', function() {
          validateInput(inputElement, regex);
        });
      });
    
      // Form submission handler
      form.addEventListener('submit', function(event) {
        var isValid = true;
    
        Object.keys(inputsToValidate).forEach(function(inputId) {
          var inputElement = document.getElementById(inputId);
          isValid = validateInput(inputElement, inputsToValidate[inputId]) && isValid; // Validate each input
        });
    
        if (!isValid) {
          event.preventDefault(); // Prevent form submission if any field is invalid
        }
      });
    });
    </script>
    
      
      


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>



<%-include('footer')-%>